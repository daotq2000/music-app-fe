{"ast":null,"code":"import React from'react';import axiosService from'../utils/AxiosService';import{API_ENDPOINT}from'../utils/Constaints';import{isObject,isString}from'../utils/UtilsFunction';const url='api/songs';export const updateTotalListen=req=>{const path=API_ENDPOINT+url+'/updateTotalListen';return axiosService.post(path,req);};export const paginationSongs=paginationRequest=>{return axiosService.post(API_ENDPOINT+url,paginationRequest);};export const getSongById=id=>{const path=API_ENDPOINT+url+\"/\".concat(id);return axiosService.get(path);};export const getTop15BestSong=()=>{const path=url+'/top15';let data=axiosService.get(API_ENDPOINT+path);return data;};export const saveSong=data=>{let path='';let artistSongArray=[];if(data.txtArtist!=undefined){data.txtArtist.forEach(e=>{let obj={artists:e,songs:null};artistSongArray.push(obj);});}let songs={id:data.id,title:data.txtTitle,genres:data.genres,lyrics:data.txtLyrics,artistSongs:artistSongArray};if(data.timePlay!=undefined){songs.timePlay=data.timePlay;}let files=[data.image,data.mp3File];let formData=new FormData();formData.append('song',JSON.stringify(songs));if(!isString(data.image)&&!isString(data.mp3File)){formData.append('files',files[0]);formData.append('files',files[1]);}if(data.id==null||data.id==undefined){path=API_ENDPOINT+url+'/save';return axiosService.post(path,formData);}else{path=API_ENDPOINT+url+\"/update-song/\".concat(data.id);return axiosService.post(path,formData);}};export const deleteListSong=data=>{const path=API_ENDPOINT+url+\"/delete\";return axiosService.post(path,data);};","map":{"version":3,"names":["React","axiosService","API_ENDPOINT","isObject","isString","url","updateTotalListen","req","path","post","paginationSongs","paginationRequest","getSongById","id","concat","get","getTop15BestSong","data","saveSong","artistSongArray","txtArtist","undefined","forEach","e","obj","artists","songs","push","title","txtTitle","genres","lyrics","txtLyrics","artistSongs","timePlay","files","image","mp3File","formData","FormData","append","JSON","stringify","deleteListSong"],"sources":["/home/luongtx/Workspace/personal/music-app-fe/src/api/songAPI.js"],"sourcesContent":["import React from 'react'\nimport axiosService from '../utils/AxiosService'\nimport { API_ENDPOINT } from '../utils/Constaints'\nimport {isObject,isString} from '../utils/UtilsFunction'\nconst url = 'api/songs'\nexport const updateTotalListen = (req) => {\n    const path = API_ENDPOINT + url+'/updateTotalListen';\n    return axiosService.post(path, req);\n}\nexport const paginationSongs = (paginationRequest) => {\n    return axiosService.post(API_ENDPOINT + url, paginationRequest);\n}\nexport const getSongById = (id) => {\n    const path = API_ENDPOINT + url + `/${id}`;\n    return axiosService.get(path);\n}\nexport const getTop15BestSong = () => {\n    const path = url + '/top15'\n    let data = axiosService.get(API_ENDPOINT + path);\n    return data;\n}\nexport const saveSong = (data) => {\n    let path = ''\n  \n    let artistSongArray = [];\n    if (data.txtArtist != undefined) {\n        data.txtArtist.forEach((e) => {\n            let obj = { artists: e, songs: null };\n            artistSongArray.push(obj);\n        })\n    }\n    let songs = { id: data.id, title: data.txtTitle,genres:data.genres, lyrics: data.txtLyrics, artistSongs: artistSongArray }\n    if(data.timePlay != undefined){\n        songs.timePlay= data.timePlay;\n    }\n    let files = [data.image, data.mp3File]\n    let formData = new FormData();\n    formData.append('song',JSON.stringify(songs))\n    if(!isString(data.image) && !isString(data.mp3File)){\n        formData.append('files',files[0]);\n        formData.append('files',files[1]);\n    }\n    if (data.id == null || data.id == undefined) {\n        path = API_ENDPOINT + url + '/save';\n        return axiosService.post(path, formData);\n    } else {\n        path = API_ENDPOINT + url + `/update-song/${data.id}`\n        return axiosService.post(path, formData);\n    }\n    \n}\nexport const deleteListSong = (data) =>{\n    const path = API_ENDPOINT + url + `/delete`;\n\n    return axiosService.post(path,data);\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}