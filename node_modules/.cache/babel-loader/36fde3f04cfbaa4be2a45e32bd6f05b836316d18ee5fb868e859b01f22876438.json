{"ast":null,"code":"import{Swiper,SwiperSlide}from\"swiper/react\";import SwiperCore,{Autoplay,Navigation,Pagination,Virtual}from\"swiper/core\";import\"swiper/swiper-bundle.css\";import React,{useEffect,useState}from'react';import MoreIcon from'../../resource/images/svg/more.svg';import PlayIcon from'../../resource/images/svg/play.svg';import{useDispatch,useSelector}from'react-redux';import{paginationAlbum}from'../../redux/albumReducer';import{getPlayList}from\"../../redux/playReducer\";import{Link}from\"react-router-dom\";import history from'../../router/history';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";SwiperCore.use([Navigation,Pagination,Autoplay,Virtual]);const Slider=props=>{const title=props.title;const search=props.search;const Slider=item=>{return/*#__PURE__*/_jsx(SwiperSlide,{style:{listStyle:\"none\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"swiper-slide\",\"data-swiper-slide-index\":item.index,children:/*#__PURE__*/_jsxs(\"div\",{className:\"ms_rcnt_box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ms_rcnt_box_img\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ms_main_overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ms_box_overlay\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ms_more_icon\",children:/*#__PURE__*/_jsx(\"img\",{src:MoreIcon,alt:\"\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"more_option\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"_blank\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"opt_icon\",children:/*#__PURE__*/_jsx(\"span\",{className:\"icon icon_fav\"})}),\"Add To Favourites\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"_blank\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"opt_icon\",children:/*#__PURE__*/_jsx(\"span\",{className:\"icon icon_queue\"})}),\"Add To Queue\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"_blank\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"opt_icon\",children:/*#__PURE__*/_jsx(\"span\",{className:\"icon icon_dwn\"})}),\"Download Now\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"_blank\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"opt_icon\",children:/*#__PURE__*/_jsx(\"span\",{className:\"icon icon_playlst\"})}),\"Add To Playlist\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"_blank\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"opt_icon\",children:/*#__PURE__*/_jsx(\"span\",{className:\"icon icon_share\"})}),\"Share\"]})})]}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>{getAlbumIdAction(item.id);},className:\"ms_play_icon\",children:/*#__PURE__*/_jsx(\"img\",{src:PlayIcon,alt:\"\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ms_rcnt_box_text\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(Link,{to:\"/album/\".concat(item.id),children:item.albumName})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"L\\u01B0\\u1EE3t nghe: \",item.totalListen!=null?item.totalListen:0]})]})]})})},\"slide-\".concat(item.id));};const[pagination,setPagination]=useState({page:1,size:10,field:'',order:'',search:''});useEffect(()=>{if(search!=undefined){setPagination({...pagination,search:search});}},[search]);const dispatch=useDispatch();useEffect(()=>{dispatch(paginationAlbum(pagination));},[dispatch,pagination.page,pagination.size,pagination.field,pagination.order,pagination.search]);const state=useSelector(states=>{return states.albumReducer;});const getAlbumIdAction=albumId=>{dispatch(getPlayList(albumId));history.push(\"/album/\".concat(albumId));};const renderItems=()=>{let result=[];let index=0;state.albums.map(album=>{let obj={...album};obj.index=index++;result.push(Slider(obj));});return result;};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"ms_rcnt_slider\",children:[/*#__PURE__*/_jsxs(\"div\",{style:title!=undefined?{display:'none'}:{display:''},className:\"ms_heading\",children:[/*#__PURE__*/_jsx(\"h1\",{children:title!=undefined?title:'Album Nổi Bật'}),/*#__PURE__*/_jsx(\"span\",{className:\"veiw_all\",children:/*#__PURE__*/_jsx(Link,{to:\"/albums\",children:\"Xem Th\\xEAm\"})})]}),/*#__PURE__*/_jsx(Swiper,{id:\"albums\",virtual:true,slidesPerColumnFill:\"row\",spaceBetween:30,resizeObserver:true,dynamicBullets:false,slidesPerGroup:4// // autoplay\n// // loop\n,navigation:true,breakpoints:{\"300\":{\"slidesPerView\":2,\"spaceBetween\":10},\"640\":{\"slidesPerView\":2,\"spaceBetween\":10},\"768\":{\"slidesPerView\":4,\"spaceBetween\":10},\"1024\":{\"slidesPerView\":5,\"spaceBetween\":10}},children:renderItems()})]})});};export default Slider;","map":{"version":3,"names":["Swiper","SwiperSlide","SwiperCore","Autoplay","Navigation","Pagination","Virtual","React","useEffect","useState","MoreIcon","PlayIcon","useDispatch","useSelector","paginationAlbum","getPlayList","Link","history","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","use","Slider","props","title","search","item","style","listStyle","children","className","index","src","image","alt","href","onClick","getAlbumIdAction","id","to","concat","albumName","totalListen","pagination","setPagination","page","size","field","order","undefined","dispatch","state","states","albumReducer","albumId","push","renderItems","result","albums","map","album","obj","display","virtual","slidesPerColumnFill","spaceBetween","resizeObserver","dynamicBullets","slidesPerGroup","navigation","breakpoints"],"sources":["/home/luongtx/Workspace/personal/music-app-fe/src/components/Slider/Slider.js"],"sourcesContent":["import { Swiper, SwiperSlide } from \"swiper/react\";\nimport SwiperCore, { Autoplay, Navigation, Pagination, Virtual } from \"swiper/core\";\nimport \"swiper/swiper-bundle.css\";\nimport React, { useEffect, useState } from 'react'\nimport MoreIcon from '../../resource/images/svg/more.svg'\nimport PlayIcon from '../../resource/images/svg/play.svg'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { paginationAlbum } from '../../redux/albumReducer'\nimport { getPlayList } from \"../../redux/playReducer\";\nimport { Link } from \"react-router-dom\";\nimport history from '../../router/history'\nSwiperCore.use([Navigation, Pagination, Autoplay, Virtual]);\n\nconst Slider = (props) => {\n    const title = props.title;\n    const search = props.search;\n\n    const Slider = (item) => {\n        return (\n            <SwiperSlide key={`slide-${item.id}`} style={{ listStyle: \"none\" }}>\n\n                <div className=\"swiper-slide\" data-swiper-slide-index={item.index}>\n                    <div className=\"ms_rcnt_box\">\n                        <div className=\"ms_rcnt_box_img\">\n                            <img src={item.image} alt=\"\" />\n                            <div className=\"ms_main_overlay\">\n                                <div className=\"ms_box_overlay\" />\n                                <div className=\"ms_more_icon\">\n                                    <img src={MoreIcon} alt=\"\" />\n                                </div>\n                                <ul className=\"more_option\">\n                                    <li><a href=\"_blank\"><span className=\"opt_icon\"><span className=\"icon icon_fav\" /></span>Add To Favourites</a></li>\n                                    <li><a href=\"_blank\"><span className=\"opt_icon\"><span className=\"icon icon_queue\" /></span>Add To Queue</a></li>\n                                    <li><a href=\"_blank\"><span className=\"opt_icon\"><span className=\"icon icon_dwn\" /></span>Download Now</a></li>\n                                    <li><a href=\"_blank\"><span className=\"opt_icon\"><span className=\"icon icon_playlst\" /></span>Add To Playlist</a></li>\n                                    <li><a href=\"_blank\"><span className=\"opt_icon\"><span className=\"icon icon_share\" /></span>Share</a></li>\n                                </ul>\n                                <div onClick={() => { getAlbumIdAction(item.id) }} className=\"ms_play_icon\">\n                                    <img src={PlayIcon} alt=\"\" />\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"ms_rcnt_box_text\">\n                            <h3><Link to={`/album/${item.id}`} >{item.albumName}</Link></h3>\n                            <p>Lượt nghe: {item.totalListen != null ? item.totalListen:0 }</p>\n                        </div>\n                    </div>\n                </div>\n            </SwiperSlide>\n        );\n    }\n\n    const [pagination, setPagination] = useState({\n        page: 1,\n        size: 10,\n        field: '',\n        order: '',\n        search: ''\n    })\n    useEffect(() => {\n        if(search != undefined){\n            setPagination({...pagination,search:search})\n        }\n    }, [search])\n    const dispatch = useDispatch();\n    useEffect(() => {\n        dispatch(paginationAlbum(pagination))\n    }, [dispatch, pagination.page, pagination.size, pagination.field, pagination.order, pagination.search]);\n    const state = useSelector((states) => {\n        return states.albumReducer;\n    });\n    const getAlbumIdAction = (albumId) => {\n        dispatch(getPlayList(albumId))\n        history.push(`/album/${albumId}`)\n    }\n    const renderItems = () => {\n        let result = [];\n        let index = 0;\n        state.albums.map((album) => {\n            let obj = { ...album };\n            obj.index = index++;\n            result.push(Slider(obj))\n        })\n        return result;\n    }\n\n    return (\n        <>\n            <div className=\"ms_rcnt_slider\">\n                <div style={title != undefined ? { display: 'none' } : { display: '' }} className=\"ms_heading\">\n                    <h1>{title != undefined ? title : 'Album Nổi Bật'}</h1>\n                    <span className=\"veiw_all\"><Link to={`/albums`} >Xem Thêm</Link></span>\n                </div>\n                <Swiper\n                    id=\"albums\"\n\n                    virtual\n                    slidesPerColumnFill=\"row\"\n                    spaceBetween={30}\n                    resizeObserver={true}\n                    dynamicBullets={false}\n                      slidesPerGroup={4}\n                    // // autoplay\n                    // // loop\n                    navigation\n                    breakpoints={{\n                        \"300\": {\n                            \"slidesPerView\": 2,\n                            \"spaceBetween\": 10\n                        },\n                        \"640\": {\n                            \"slidesPerView\": 2,\n                            \"spaceBetween\": 10\n                        },\n                        \"768\": {\n                            \"slidesPerView\": 4,\n                            \"spaceBetween\": 10\n                        },\n                        \"1024\": {\n                            \"slidesPerView\": 5,\n                            \"spaceBetween\": 10\n                        }\n                    }}\n\n\n                >\n                    {renderItems()}\n                </Swiper>\n            </div>\n\n        </>\n    );\n}\nexport default Slider;"],"mappings":"AAAA,OAASA,MAAM,CAAEC,WAAW,KAAQ,cAAc,CAClD,MAAO,CAAAC,UAAU,EAAIC,QAAQ,CAAEC,UAAU,CAAEC,UAAU,CAAEC,OAAO,KAAQ,aAAa,CACnF,MAAO,0BAA0B,CACjC,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,QAAQ,KAAM,oCAAoC,CACzD,MAAO,CAAAC,QAAQ,KAAM,oCAAoC,CACzD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,eAAe,KAAQ,0BAA0B,CAC1D,OAASC,WAAW,KAAQ,yBAAyB,CACrD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,OAAO,KAAM,sBAAsB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAC1CrB,UAAU,CAACsB,GAAG,CAAC,CAACpB,UAAU,CAAEC,UAAU,CAAEF,QAAQ,CAAEG,OAAO,CAAC,CAAC,CAE3D,KAAM,CAAAmB,MAAM,CAAIC,KAAK,EAAK,CACtB,KAAM,CAAAC,KAAK,CAAGD,KAAK,CAACC,KAAK,CACzB,KAAM,CAAAC,MAAM,CAAGF,KAAK,CAACE,MAAM,CAE3B,KAAM,CAAAH,MAAM,CAAII,IAAI,EAAK,CACrB,mBACIV,IAAA,CAAClB,WAAW,EAA0B6B,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,cAE/Db,IAAA,QAAKc,SAAS,CAAC,cAAc,CAAC,0BAAyBJ,IAAI,CAACK,KAAM,CAAAF,QAAA,cAC9DX,KAAA,QAAKY,SAAS,CAAC,aAAa,CAAAD,QAAA,eACxBX,KAAA,QAAKY,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5Bb,IAAA,QAAKgB,GAAG,CAAEN,IAAI,CAACO,KAAM,CAACC,GAAG,CAAC,EAAE,CAAE,CAAC,cAC/BhB,KAAA,QAAKY,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5Bb,IAAA,QAAKc,SAAS,CAAC,gBAAgB,CAAE,CAAC,cAClCd,IAAA,QAAKc,SAAS,CAAC,cAAc,CAAAD,QAAA,cACzBb,IAAA,QAAKgB,GAAG,CAAEzB,QAAS,CAAC2B,GAAG,CAAC,EAAE,CAAE,CAAC,CAC5B,CAAC,cACNhB,KAAA,OAAIY,SAAS,CAAC,aAAa,CAAAD,QAAA,eACvBb,IAAA,OAAAa,QAAA,cAAIX,KAAA,MAAGiB,IAAI,CAAC,QAAQ,CAAAN,QAAA,eAACb,IAAA,SAAMc,SAAS,CAAC,UAAU,CAAAD,QAAA,cAACb,IAAA,SAAMc,SAAS,CAAC,eAAe,CAAE,CAAC,CAAM,CAAC,oBAAiB,EAAG,CAAC,CAAI,CAAC,cACnHd,IAAA,OAAAa,QAAA,cAAIX,KAAA,MAAGiB,IAAI,CAAC,QAAQ,CAAAN,QAAA,eAACb,IAAA,SAAMc,SAAS,CAAC,UAAU,CAAAD,QAAA,cAACb,IAAA,SAAMc,SAAS,CAAC,iBAAiB,CAAE,CAAC,CAAM,CAAC,eAAY,EAAG,CAAC,CAAI,CAAC,cAChHd,IAAA,OAAAa,QAAA,cAAIX,KAAA,MAAGiB,IAAI,CAAC,QAAQ,CAAAN,QAAA,eAACb,IAAA,SAAMc,SAAS,CAAC,UAAU,CAAAD,QAAA,cAACb,IAAA,SAAMc,SAAS,CAAC,eAAe,CAAE,CAAC,CAAM,CAAC,eAAY,EAAG,CAAC,CAAI,CAAC,cAC9Gd,IAAA,OAAAa,QAAA,cAAIX,KAAA,MAAGiB,IAAI,CAAC,QAAQ,CAAAN,QAAA,eAACb,IAAA,SAAMc,SAAS,CAAC,UAAU,CAAAD,QAAA,cAACb,IAAA,SAAMc,SAAS,CAAC,mBAAmB,CAAE,CAAC,CAAM,CAAC,kBAAe,EAAG,CAAC,CAAI,CAAC,cACrHd,IAAA,OAAAa,QAAA,cAAIX,KAAA,MAAGiB,IAAI,CAAC,QAAQ,CAAAN,QAAA,eAACb,IAAA,SAAMc,SAAS,CAAC,UAAU,CAAAD,QAAA,cAACb,IAAA,SAAMc,SAAS,CAAC,iBAAiB,CAAE,CAAC,CAAM,CAAC,QAAK,EAAG,CAAC,CAAI,CAAC,EACzG,CAAC,cACLd,IAAA,QAAKoB,OAAO,CAAEA,CAAA,GAAM,CAAEC,gBAAgB,CAACX,IAAI,CAACY,EAAE,CAAC,CAAC,CAAE,CAACR,SAAS,CAAC,cAAc,CAAAD,QAAA,cACvEb,IAAA,QAAKgB,GAAG,CAAExB,QAAS,CAAC0B,GAAG,CAAC,EAAE,CAAE,CAAC,CAC5B,CAAC,EACL,CAAC,EACL,CAAC,cACNhB,KAAA,QAAKY,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC7Bb,IAAA,OAAAa,QAAA,cAAIb,IAAA,CAACH,IAAI,EAAC0B,EAAE,WAAAC,MAAA,CAAYd,IAAI,CAACY,EAAE,CAAG,CAAAT,QAAA,CAAGH,IAAI,CAACe,SAAS,CAAO,CAAC,CAAI,CAAC,cAChEvB,KAAA,MAAAW,QAAA,EAAG,uBAAW,CAACH,IAAI,CAACgB,WAAW,EAAI,IAAI,CAAGhB,IAAI,CAACgB,WAAW,CAAC,CAAC,EAAK,CAAC,EACjE,CAAC,EACL,CAAC,CACL,CAAC,WAAAF,MAAA,CA5BiBd,IAAI,CAACY,EAAE,CA6BrB,CAAC,CAEtB,CAAC,CAED,KAAM,CAACK,UAAU,CAAEC,aAAa,CAAC,CAAGtC,QAAQ,CAAC,CACzCuC,IAAI,CAAE,CAAC,CACPC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTvB,MAAM,CAAE,EACZ,CAAC,CAAC,CACFpB,SAAS,CAAC,IAAM,CACZ,GAAGoB,MAAM,EAAIwB,SAAS,CAAC,CACnBL,aAAa,CAAC,CAAC,GAAGD,UAAU,CAAClB,MAAM,CAACA,MAAM,CAAC,CAAC,CAChD,CACJ,CAAC,CAAE,CAACA,MAAM,CAAC,CAAC,CACZ,KAAM,CAAAyB,QAAQ,CAAGzC,WAAW,CAAC,CAAC,CAC9BJ,SAAS,CAAC,IAAM,CACZ6C,QAAQ,CAACvC,eAAe,CAACgC,UAAU,CAAC,CAAC,CACzC,CAAC,CAAE,CAACO,QAAQ,CAAEP,UAAU,CAACE,IAAI,CAAEF,UAAU,CAACG,IAAI,CAAEH,UAAU,CAACI,KAAK,CAAEJ,UAAU,CAACK,KAAK,CAAEL,UAAU,CAAClB,MAAM,CAAC,CAAC,CACvG,KAAM,CAAA0B,KAAK,CAAGzC,WAAW,CAAE0C,MAAM,EAAK,CAClC,MAAO,CAAAA,MAAM,CAACC,YAAY,CAC9B,CAAC,CAAC,CACF,KAAM,CAAAhB,gBAAgB,CAAIiB,OAAO,EAAK,CAClCJ,QAAQ,CAACtC,WAAW,CAAC0C,OAAO,CAAC,CAAC,CAC9BxC,OAAO,CAACyC,IAAI,WAAAf,MAAA,CAAWc,OAAO,CAAE,CAAC,CACrC,CAAC,CACD,KAAM,CAAAE,WAAW,CAAGA,CAAA,GAAM,CACtB,GAAI,CAAAC,MAAM,CAAG,EAAE,CACf,GAAI,CAAA1B,KAAK,CAAG,CAAC,CACboB,KAAK,CAACO,MAAM,CAACC,GAAG,CAAEC,KAAK,EAAK,CACxB,GAAI,CAAAC,GAAG,CAAG,CAAE,GAAGD,KAAM,CAAC,CACtBC,GAAG,CAAC9B,KAAK,CAAGA,KAAK,EAAE,CACnB0B,MAAM,CAACF,IAAI,CAACjC,MAAM,CAACuC,GAAG,CAAC,CAAC,CAC5B,CAAC,CAAC,CACF,MAAO,CAAAJ,MAAM,CACjB,CAAC,CAED,mBACIzC,IAAA,CAAAI,SAAA,EAAAS,QAAA,cACIX,KAAA,QAAKY,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC3BX,KAAA,QAAKS,KAAK,CAAEH,KAAK,EAAIyB,SAAS,CAAG,CAAEa,OAAO,CAAE,MAAO,CAAC,CAAG,CAAEA,OAAO,CAAE,EAAG,CAAE,CAAChC,SAAS,CAAC,YAAY,CAAAD,QAAA,eAC1Fb,IAAA,OAAAa,QAAA,CAAKL,KAAK,EAAIyB,SAAS,CAAGzB,KAAK,CAAG,eAAe,CAAK,CAAC,cACvDR,IAAA,SAAMc,SAAS,CAAC,UAAU,CAAAD,QAAA,cAACb,IAAA,CAACH,IAAI,EAAC0B,EAAE,UAAY,CAAAV,QAAA,CAAE,aAAQ,CAAM,CAAC,CAAM,CAAC,EACtE,CAAC,cACNb,IAAA,CAACnB,MAAM,EACHyC,EAAE,CAAC,QAAQ,CAEXyB,OAAO,MACPC,mBAAmB,CAAC,KAAK,CACzBC,YAAY,CAAE,EAAG,CACjBC,cAAc,CAAE,IAAK,CACrBC,cAAc,CAAE,KAAM,CACpBC,cAAc,CAAE,CAClB;AACA;AAAA,CACAC,UAAU,MACVC,WAAW,CAAE,CACT,KAAK,CAAE,CACH,eAAe,CAAE,CAAC,CAClB,cAAc,CAAE,EACpB,CAAC,CACD,KAAK,CAAE,CACH,eAAe,CAAE,CAAC,CAClB,cAAc,CAAE,EACpB,CAAC,CACD,KAAK,CAAE,CACH,eAAe,CAAE,CAAC,CAClB,cAAc,CAAE,EACpB,CAAC,CACD,MAAM,CAAE,CACJ,eAAe,CAAE,CAAC,CAClB,cAAc,CAAE,EACpB,CACJ,CAAE,CAAAzC,QAAA,CAID2B,WAAW,CAAC,CAAC,CACV,CAAC,EACR,CAAC,CAER,CAAC,CAEX,CAAC,CACD,cAAe,CAAAlC,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}